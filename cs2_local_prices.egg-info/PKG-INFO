Metadata-Version: 2.4
Name: cs2-local-prices
Version: 0.1.0
Summary: Local price builder for CS2 skins using CSFloat (offline evaluator support)
Author: Falopp Team
License-Expression: MIT
Requires-Python: >=3.11
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: httpx>=0.27.0
Requires-Dist: tenacity>=9.0.0
Requires-Dist: pydantic>=2.6.0
Requires-Dist: typer>=0.12.3
Requires-Dist: rich>=13.7.1
Requires-Dist: python-dotenv>=1.0.1
Provides-Extra: dev
Requires-Dist: pytest>=8.2.0; extra == "dev"
Requires-Dist: pytest-cov>=5.0.0; extra == "dev"
Requires-Dist: mypy>=1.10.0; extra == "dev"
Requires-Dist: ruff>=0.5.5; extra == "dev"
Requires-Dist: black>=24.4.2; extra == "dev"
Requires-Dist: pre-commit>=3.7.0; extra == "dev"
Dynamic: license-file

# TradeUpSPY - Calculadora Avanzada de Trade-Ups de CS2

[![Python 3.10+](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Code Style: Black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![Rich CLI](https://img.shields.io/badge/CLI-Rich-ff69b4.svg)](https://github.com/Textualize/rich)
[![CSFloat API](https://img.shields.io/badge/API-CSFloat-orange.svg)](https://csfloat.com/)

**TradeUpSPY** es una calculadora integral de contratos de Trade-Up de CS2 que replica con precisi√≥n matem√°tica la metodolog√≠a de TradeUpSpy, proporcionando an√°lisis de rentabilidad y gesti√≥n de riesgo con datos en tiempo real del mercado.

## üéØ Caracter√≠sticas Principales

### üî¨ Precisi√≥n Matem√°tica Garantizada
- **üéØ Exactitud Verificada**: Resultados validados contra TradeUpSpy con diferencia <0.1%
- **üìê Modelo Pool of Outcomes**: Implementaci√≥n exacta del algoritmo de probabilidades
- **üßÆ F√≥rmulas Documentadas**: Cada c√°lculo explicado y validado con tests automatizados
- **‚úÖ Validaci√≥n de Reglas**: Cumplimiento estricto de mec√°nicas de CS2

### üìä An√°lisis Integral de Rentabilidad
- **üí∞ M√©tricas Completas**: EV bruto/neto, ROI, probabilidad de ganancia, an√°lisis de riesgo
- **üìà Escenarios M√∫ltiples**: Mejor/peor caso, break-even, distribuci√≥n de outcomes
- **üé® Visualizaci√≥n Clara**: Tablas Rich con colores sem√°nticos y formato profesional
- **‚ö° Decisi√≥n Inmediata**: Indicadores visuales claros (‚úÖ RENTABLE / ‚ùå NO RENTABLE)

### üåê Integraci√≥n de Datos Avanzada
- **üîÑ CSFloat API**: Precios en tiempo real del marketplace l√≠der
- **‚ö° Cach√© Inteligente**: Sistema de cach√© con TTL para optimizar performance
- **üõ°Ô∏è Rate Limiting**: Manejo autom√°tico de l√≠mites con backoff exponencial
- **üìÅ Datos Offline**: Soporte completo para precios locales y trabajo sin conexi√≥n

## ‚öôÔ∏è Arquitectura y Tecnolog√≠a

### üèóÔ∏è Dise√±o Modular
- **Domain-Driven Design**: Arquitectura por capas con separaci√≥n clara de responsabilidades
- **Modelos Inmutables**: Dataclasses frozen para garantizar integridad de datos
- **Patrones de Dise√±o**: Factory, Strategy, Builder, Adapter para m√°xima extensibilidad
- **Type Safety**: Type hints completos con validaci√≥n en runtime

### üßÆ Motor de C√°lculo Avanzado
```python
# Algoritmo Pool of Outcomes (como TradeUpSpy)
def calculate_probabilities(entries, outcomes):
    # Tama√±o total del pool
    S = sum(n_C * m_C for collection C)
    
    # Probabilidad por outcome
    P(outcome_j) = n_C / S
    
    # Float normalizado y remapeado
    f_norm_avg = sum(normalize_float(entry)) / 10
    out_float = min_out + (max_out - min_out) * f_norm_avg
```

### üõ°Ô∏è Validaci√≥n Robusta
- **Reglas CS2**: 10 entradas exactas, rareza homog√©nea, StatTrak‚Ñ¢ consistente
- **Verificaci√≥n Cat√°logo**: Existencia de skins y validaci√≥n de rangos de float
- **Progresi√≥n Rareza**: consumer ‚Üí industrial ‚Üí mil-spec ‚Üí restricted ‚Üí classified ‚Üí covert
- **Exclusiones Autom√°ticas**: Detecci√≥n de Souvenir y l√≠mites hacia knives/gloves

### üé® Interfaz CLI Profesional
- **Rich Tables**: Formato colorido con alineaci√≥n autom√°tica y separadores visuales
- **Progress Bars**: Indicadores de progreso para operaciones de red
- **Semantic Colors**: Verde (ganancias), rojo (p√©rdidas), amarillo (advertencias)
- **Export Options**: Salida JSON estructurada para integraciones

## üöÄ Instalaci√≥n R√°pida

### Requisitos del Sistema
- **Python 3.10+** (verificar con `python --version`)
- **Sistema Operativo**: Windows, macOS, Linux
- **Conexi√≥n a Internet**: Para precios en tiempo real (opcional)

### Instalaci√≥n Paso a Paso
```bash
# 1. Clonar el repositorio
git clone https://github.com/falopp/TradeUpSPY.git
cd TradeUpSPY

# 2. Crear entorno virtual (recomendado)
python -m venv venv
venv\Scripts\activate  # Windows
source venv/bin/activate  # macOS/Linux

# 3. Instalar dependencias
python -m pip install -r requirements.txt

# 4. Verificar instalaci√≥n
python -m tradeup.cli --help
```

### Configuraci√≥n de API (Opcional)
```bash
# Copiar template de configuraci√≥n
cp .env.example .env

# Editar .env con tu API key de CSFloat
CSFLOAT_API_KEY=tu_api_key_aqui
CSFLOAT_BASE=https://csfloat.com
```

> **üí° Tip**: Obt√©n tu API key gratuita en [CSFloat Developer Portal](https://docs.csfloat.com/#introduction). Puedes usar la herramienta sin API key con `--no-fetch-prices`

## üíª Gu√≠a de Uso

### Casos de Uso Comunes

#### 1. An√°lisis B√°sico (Sin API)
Perfecto para aprender o cuando no tienes API key:
```bash
python -m tradeup.cli \
  --contract contracts/ejemplo_contrato.csv \
  --catalog data/skins.csv \
  --no-fetch-prices
```

#### 2. An√°lisis en Tiempo Real
Precios actuales del mercado CSFloat:
```bash
python -m tradeup.cli \
  --contract contracts/ejemplo_contrato.csv \
  --catalog data/skins.csv
```

#### 3. An√°lisis con Precios Locales
Usa tus propios precios para escenarios espec√≠ficos:
```bash
python -m tradeup.cli \
  --contract contracts/ejemplo_contrato.csv \
  --catalog data/skins.csv \
  --no-fetch-prices \
  --local-prices docs/local_prices.example.csv
```

#### 4. An√°lisis Avanzado
Con comisiones personalizadas y cat√°logo actualizado:
```bash
python -m tradeup.cli --contract contracts/ejemplo_contrato.csv --catalog data/skins_fixed.csv --fees 0.15
```

### Par√°metros de L√≠nea de Comandos

| Par√°metro | Tipo | Default | Descripci√≥n |
|-----------|------|---------|-------------|
| `--contract` | string | **requerido** | Ruta al CSV del contrato (10 entradas exactas) |
| `--catalog` | string | `data/skins.csv` | Ruta al cat√°logo de skins |
| `--fees` | float | `0.02` | Tasa de comisiones (0.02 = 2% CSFloat) |
| `--fetch-prices` | flag | `true` | Consultar precios a CSFloat API |
| `--no-fetch-prices` | flag | `false` | Usar solo precios locales |
| `--local-prices` | string | - | CSV con precios personalizados |

### Formatos de Salida

La herramienta genera tablas formateadas con:
- **üìã Resumen del Contrato**: Validaci√≥n y estad√≠sticas b√°sicas
- **üí∞ An√°lisis de Entradas**: Precios y floats de las 10 skins de entrada
- **üéØ Resultados Posibles**: Probabilidades y valores esperados
- **üìä M√©tricas de Rentabilidad**: EV, ROI, mejor/peor caso
- **‚ö†Ô∏è Advertencias**: Problemas detectados y recomendaciones

## üìÅ Formatos de Datos

### Cat√°logo de Skins (`data/skins.csv`)
Contiene la base de datos completa de skins con sus propiedades:

```csv
Arma,Coleccion,Grado,FloatMin,FloatMax
"AK-47 | Cartel","The Chroma Collection","restricted",0.00,0.75
"M4A4 | ÈæçÁéã (Dragon King)","The Chroma Collection","restricted",0.00,0.75
```

| Campo | Descripci√≥n | Ejemplo |
|-------|-------------|---------|
| `Arma` | Nombre completo de la skin | `"AK-47 \| Cartel"` |
| `Coleccion` | Colecci√≥n a la que pertenece | `"The Chroma Collection"` |
| `Grado` | Rareza de la skin | `"restricted"` |
| `FloatMin` | Float m√≠nimo posible | `0.00` |
| `FloatMax` | Float m√°ximo posible | `0.75` |

### Contrato CSV (`contracts/*.csv`)
Define las 10 skins de entrada para el trade-up:

```csv
Name,Collection,Rarity,Float,PriceCents,StatTrak
"MP9 | Deadly Poison","The Chroma Collection","mil-spec",0.09,1250,false
"SCAR-20 | Grotto","The Chroma Collection","mil-spec",0.12,890,false
```

| Campo | Requerido | Descripci√≥n | Ejemplo |
|-------|-----------|-------------|---------|
| `Name` | ‚úÖ | Nombre exacto (debe existir en cat√°logo) | `"MP9 \| Deadly Poison"` |
| `Collection` | ‚úÖ | Colecci√≥n (debe coincidir con cat√°logo) | `"The Chroma Collection"` |
| `Rarity` | ‚úÖ | Rareza en min√∫sculas | `"mil-spec"` |
| `Float` | ‚úÖ | Valor de float (0.0-1.0) | `0.09` |
| `PriceCents` | ‚ùå | Precio en centavos (se consulta API si falta) | `1250` |
| `StatTrak` | ‚ùå | StatTrak‚Ñ¢ (true/false, default: false) | `false` |

### Precios Locales (Opcional)
Dos formatos soportados para `--local-prices`:

#### Formato 1: Market Hash Name
```csv
MarketHashName,PriceCents
"AK-47 | Cartel (Field-Tested)",8900
"StatTrak‚Ñ¢ M4A4 | ÈæçÁéã (Dragon King) (Minimal Wear)",15600
```

#### Formato 2: Componentes Separados
```csv
Name,Wear,PriceCents,StatTrak
"AK-47 | Cartel","Field-Tested",8900,false
"M4A4 | ÈæçÁéã (Dragon King)","Minimal Wear",15600,true
```

> **üí° Nota**: Los precios siempre deben estar en **centavos** (ej: $89.00 = 8900 centavos)

## Reglas Implementadas (Resumen)

- Siempre 10 skins y todas de la misma rareza.
- No se puede mezclar StatTrak‚Ñ¢ con no‚ÄëStatTrak‚Ñ¢.
- Souvenir no es soportado (no incluir en el contrato).
- Progresi√≥n de rarezas: consumer ‚Üí industrial ‚Üí mil‚Äëspec ‚Üí restricted ‚Üí classified ‚Üí covert.
- C√°lculo de float de salida: promedio de floats normalizados y remapeo al rango de la skin de salida.

### Modelo de Probabilidades

Se utiliza el modelo de "pool de outcomes" (como TradeUpSpy):

```
S = sum_C (n_C * m_C)
P(outcome j en C) = n_C / S
```

Donde `n_C` es la cantidad de entradas de la colecci√≥n C y `m_C` la cantidad de outcomes en la rareza objetivo para C.

### EV y ROI

- `EV = sum_j (Precio_j * Prob_j)`
- `EV_neto = EV * (1 - fees)`
- `ROI_neto = (EV_neto - costo_entradas) / costo_entradas`

Los precios se consultan por `market_hash_name` construido como:
- `"AK-47 | Cartel (Field-Tested)"`
- `"StatTrak‚Ñ¢ AK-47 | Cartel (Field-Tested)"`

## üîß Scripts de Utilidad

### Actualizaci√≥n de Cat√°logo (`fix_grados.py`)
Script que sincroniza el cat√°logo local con datos reales de CSFloat API:

```bash
# Configurar API key
export CSFLOAT_API_KEY="tu_api_key_aqui"  # Linux/macOS
$env:CSFLOAT_API_KEY="tu_api_key_aqui"    # Windows PowerShell

# Ejecutar sincronizaci√≥n
python fix_grados.py

# Usar cat√°logo actualizado
python -m tradeup.cli --contract contracts/ejemplo_contrato.csv --catalog data/skins_fixed.csv
```

#### ¬øQu√© hace el script?
- **Valida rarezas**: Corrige la columna `Grado` consultando CSFloat
- **Detecta inconsistencias**: Reporta diferencias entre cat√°logo local y API
- **Mapeo autom√°tico**: Convierte c√≥digos de rareza (1-7) a nombres legibles
- **Manejo de casos especiales**: Identifica knives/gloves autom√°ticamente
- **Genera reporte**: Lista skins sin datos disponibles

#### Mapeo de Rarezas
| C√≥digo API | Rareza | Color |
|------------|--------|-------|
| 1 | `consumer` | Gris |
| 2 | `industrial` | Celeste |
| 3 | `mil-spec` | Azul |
| 4 | `restricted` | Morado |
| 5 | `classified` | Rosa |
| 6 | `covert` | Rojo |
| 7 | `extraordinary`/`contraband` | Dorado |

## üìä Ejemplos de Contratos

### Contrato B√°sico (Chroma + Prisma 2)
El archivo `contracts/ejemplo_contrato.csv` demuestra un contrato real:
- **5 skins** de "The Chroma Collection" (Mil-Spec)
- **5 skins** de "The Prisma 2 Collection" (Mil-Spec)
- **Objetivo**: Obtener skins Restricted de ambas colecciones
- **Probabilidad**: 50/50 entre las dos colecciones

### Contrato Avanzado (Osiris Supernova)
El archivo `contracts/contrato_osiris_supernova.csv` muestra:
- Contrato enfocado en una skin espec√≠fica de alta demanda
- Optimizaci√≥n de floats para maximizar valor
- An√°lisis de riesgo/recompensa

## üõ†Ô∏è Soluci√≥n de Problemas

### Errores Comunes

#### Error: "ModuleNotFoundError: No module named 'rich'"
```bash
# Soluci√≥n: Instalar dependencias
python -m pip install -r requirements.txt
```

#### Error: "CSFLOAT_API_KEY environment variable not set"
```bash
# Soluci√≥n 1: Usar archivo .env
cp .env.example .env
# Editar .env con tu API key

# Soluci√≥n 2: Variable de entorno temporal
export CSFLOAT_API_KEY="tu_api_key"  # Linux/macOS
set CSFLOAT_API_KEY=tu_api_key       # Windows CMD
$env:CSFLOAT_API_KEY="tu_api_key"    # Windows PowerShell

# Soluci√≥n 3: Usar sin API
python -m tradeup.cli --contract contracts/ejemplo_contrato.csv --no-fetch-prices
```

#### Error: "HTTP 429 Too Many Requests"
```bash
# Soluci√≥n: Esperar y reintentar (rate limit de CSFloat)
# La herramienta maneja autom√°ticamente los reintentos
# Si persiste, espera 60 segundos antes de volver a ejecutar
```

#### Error: "Contract must have exactly 10 entries"
```bash
# Soluci√≥n: Verificar el CSV del contrato
python -c "
import pandas as pd
df = pd.read_csv('contracts/ejemplo_contrato.csv')
print(f'Entradas encontradas: {len(df)}')
print(df[['Name', 'Collection', 'Rarity']].head())
"
```

### Validaci√≥n de Datos

#### Verificar Cat√°logo
```bash
python -c "
from tradeup.csv_loader import load_catalog
catalog = load_catalog('data/skins.csv')
print(f'Skins cargadas: {len(catalog)}')
print(f'Colecciones √∫nicas: {len(set(item.collection for item in catalog))}')
"
```

#### Verificar Contrato
```bash
python -c "
from tradeup.csv_loader import load_contract
contract = load_contract('contracts/ejemplo_contrato.csv')
print(f'Entradas: {len(contract)}')
for entry in contract[:3]:
    print(f'- {entry.name} ({entry.rarity}) Float: {entry.float_value}')
"
```

## üë®‚Äçüíª Desarrollo y Contribuci√≥n

### Estructura del Proyecto
```
tradeup/
‚îú‚îÄ‚îÄ models.py      # üèóÔ∏è  Modelos de dominio y estructuras de datos
‚îú‚îÄ‚îÄ csv_loader.py  # üìÑ  Carga y validaci√≥n de archivos CSV
‚îú‚îÄ‚îÄ contracts.py   # üßÆ  L√≥gica de negocio y c√°lculos matem√°ticos
‚îú‚îÄ‚îÄ csfloat_api.py # üåê  Cliente API con reintentos y cach√©
‚îú‚îÄ‚îÄ pricing.py     # üí∞  Gesti√≥n de precios multi-fuente
‚îî‚îÄ‚îÄ cli.py         # üñ•Ô∏è  Interfaz de l√≠nea de comandos
```

### Configuraci√≥n de Desarrollo
```bash
# Instalar dependencias de desarrollo
python -m pip install -r requirements-dev.txt  # Si existe

# Ejecutar tests
python -m pytest tests/ -v

# Verificar tipos
python -m mypy tradeup/

# Formatear c√≥digo
python -m black tradeup/ tests/

# Linting
python -m flake8 tradeup/
```

### Contribuir
1. **Fork** el repositorio
2. **Crear** una rama para tu feature (`git checkout -b feature/nueva-funcionalidad`)
3. **Commit** tus cambios (`git commit -am 'Agregar nueva funcionalidad'`)
4. **Push** a la rama (`git push origin feature/nueva-funcionalidad`)
5. **Crear** un Pull Request

### Roadmap
- [ ] **Web Dashboard**: Interfaz React para an√°lisis visual
- [ ] **Batch Processing**: An√°lisis de m√∫ltiples contratos
- [ ] **Historical Data**: Tracking de precios hist√≥ricos
- [ ] **Discord Bot**: Notificaciones de oportunidades
- [ ] **Mobile App**: Aplicaci√≥n m√≥vil nativa

## üìö Documentaci√≥n Completa

Para informaci√≥n m√°s detallada, consulta la documentaci√≥n completa:

- **[üìã Gu√≠a de Contratos](docs/guia_contratos.md)**: Mec√°nicas completas de CS2, f√≥rmulas matem√°ticas y estrategias avanzadas
- **[üåê API CSFloat](docs/api_csfloat.md)**: Documentaci√≥n t√©cnica de integraci√≥n con CSFloat, ejemplos de c√≥digo y mejores pr√°cticas  
- **[üèóÔ∏è Arquitectura](docs/structure.md)**: Estructura del proyecto, patrones de dise√±o y consideraciones futuras
- **[‚öôÔ∏è Stack T√©cnico](docs/tech.md)**: Tecnolog√≠as utilizadas, herramientas de desarrollo y roadmap t√©cnico
- **[üéØ Visi√≥n del Producto](docs/product.md)**: Objetivos, usuarios objetivo, casos de uso y roadmap de funcionalidades

## ü§ù Comunidad y Soporte

### Reportar Problemas
- **GitHub Issues**: Para bugs y solicitudes de features
- **Discusiones**: Para preguntas generales y estrategias
- **Wiki**: Documentaci√≥n comunitaria y ejemplos

### Recursos √ötiles
- **[TradeUpSpy](https://www.tradeupspy.com/)**: Herramienta de referencia original
- **[CSFloat](https://csfloat.com/)**: Marketplace y API de datos
- **[Steam Market](https://steamcommunity.com/market/)**: Precios de referencia oficiales

## ü§ù Contribuciones

TradeUpSPY es un proyecto de c√≥digo abierto que se beneficia de las contribuciones de la comunidad. Todas las contribuciones son bienvenidas, desde reportes de bugs hasta nuevas funcionalidades.

### Formas de Contribuir
- üêõ **Reportar Bugs**: Usa GitHub Issues para reportar problemas
- üí° **Sugerir Features**: Prop√≥n nuevas funcionalidades o mejoras
- üìù **Mejorar Documentaci√≥n**: Ayuda a hacer la documentaci√≥n m√°s clara
- üíª **Contribuir C√≥digo**: Implementa fixes o nuevas funcionalidades
- üß™ **Testing**: Ayuda a encontrar y reportar edge cases

### Proceso de Contribuci√≥n
1. Fork el repositorio
2. Crea una rama para tu contribuci√≥n
3. Implementa los cambios con tests
4. Aseg√∫rate de que pasan todos los tests
5. Actualiza la documentaci√≥n si es necesario
6. Crea un Pull Request con descripci√≥n detallada

¬°Esperamos tus contribuciones para hacer TradeUpSPY a√∫n mejor! üåü

## üìÑ Licencia y T√©rminos

### Licencia del Proyecto
Este proyecto est√° licenciado bajo **MIT License** - ver [LICENSE](LICENSE) para detalles.

### T√©rminos de Uso de APIs
- **CSFloat API**: Respetar rate limits y t√©rminos de servicio
- **Steam**: No realizar scraping directo, usar APIs oficiales
- **Uso Responsable**: No automatizar trading sin supervisi√≥n humana

### Disclaimer
- **Sin Garant√≠as**: Los c√°lculos son estimaciones basadas en datos p√∫blicos
- **Riesgo Financiero**: El trading de skins implica riesgo de p√©rdidas
- **Uso Educativo**: Herramienta dise√±ada para aprendizaje y an√°lisis

---

## üåü ¬øTe Gusta el Proyecto?

Si TradeUpSPY te ha sido √∫til:
- ‚≠ê **Dale una estrella** en GitHub
- üêõ **Reporta bugs** para mejorar la herramienta
- üí° **Sugiere features** que te gustar√≠a ver
- ü§ù **Contribuye** con c√≥digo o documentaci√≥n
- üì¢ **Comparte** con otros traders de CS2

**¬°Gracias por usar TradeUpSPY!** üöÄ

---

# üß∞ Generador de Precios Locales (cs2prices)

`cs2prices` es un CLI de producci√≥n que construye un CSV local con el precio m√°s bajo por cada combinaci√≥n v√°lida de `skin √ó wear √ó StatTrak`. Usa exclusivamente CSFloat como fuente, con backoff exponencial y l√≠mites estrictos de QPS. Este CSV te permite evaluar ~660k contratos completamente offline con `--no-fetch-prices --local-prices`.

## Instalaci√≥n (CLI)

```bash
# Entorno de desarrollo
python -m pip install -r requirements.txt
python -m pip install -e .[dev]

# O s√≥lo runtime
python -m pip install -e .
```

Esto instala el entrypoint `cs2prices`.

## Variables de entorno (opcional)

```bash
# .env o variables de entorno
CSFLOAT_API_KEY=tu_api_key
CSFLOAT_API_BASE=https://csfloat.com
```

## Comandos principales

```bash
# Imprimir configuraci√≥n efectiva
cs2prices print-config

# Build completo (por defecto schema A: Name,Wear,PriceCents,StatTrak)
cs2prices build \
  --catalog data/skins_fixed.csv \
  --rarities restricted,classified,covert \
  --st both \
  --out docs/local_prices.csv \
  --resume state/prices_build_state.json \
  --sleep 2.0 \
  --backoff 60 \
  --max-pages 1 \
  --timeout 15 \
  --limit 0

# Reanudar exactamente desde el √∫ltimo cursor
cs2prices resume --resume state/prices_build_state.json

# Validar CSV de precios (schema A por defecto)
cs2prices validate docs/local_prices.csv

# M√©tricas
cs2prices stats --metrics state/prices_metrics.json

# Cache local
cs2prices peek-cache "StatTrak‚Ñ¢ AK-47 | Cartel (Field-Tested)"
cs2prices clear-cache --yes
```

## Integraci√≥n con el Evaluador Offline

El CSV generado por `cs2prices` es compatible con ambos formatos que acepta `tradeup/pricing.py`:

- Opci√≥n A (por defecto): `Name,Wear,PriceCents,StatTrak`
- Opci√≥n B: `MarketHashName,PriceCents`

Ejecuta el evaluador completamente offline:

```bash
python -m tradeup.cli \
  --contract contracts/ejemplo_contrato.csv \
  --catalog data/skins_fixed.csv \
  --no-fetch-prices \
  --local-prices docs/local_prices.csv
```

## Notas de Robustez

- Manejo de `429` y `5xx` con backoff exponencial y jitter; respeto de `Retry-After`.
- L√≠mite de QPS configurable con throttle por `sleep` y token-bucket para `concurrency>1`.
- Escrituras at√≥micas de CSV/estado/m√©tricas; reanudaci√≥n exacta tras `SIGINT`.
- Cach√© en disco (JSON por defecto; opcional SQLite).
